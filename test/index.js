const assert = require('assert');
const {
  readFilesFromDir,
  sanitizeFileList,
} = require('../index');

const files = ['1507868761000_images_20171013042440_IMG_0000.jpg',
  '1507868764000_images_20171013042440_IMG_0001.jpg',
  '1507868767000_images_20171013042440_IMG_0002.jpg',
  '1507868777000_images_20171013042440_IMG_0005.jpg',
  '1507868780000_images_20171013042440_IMG_0006.jpg',
  '1507868783000_images_20171013042440_IMG_0007.jpg',
  '1507868786000_images_20171013042440_IMG_0008.jpg',
  '1507868790000_images_20171013042440_IMG_0009.jpg',
  '1507868793000_images_20171013042440_IMG_0010.jpg',
  '1507868796000_images_20171013042440_IMG_0011.jpg',
  '1507868799000_images_20171013042440_IMG_0012.jpg',
  '1507868803000_images_20171013042440_IMG_0013.jpg',
  '1507868806000_images_20171013042440_IMG_0014.jpg',
  '1507868809000_images_20171013042440_IMG_0015.jpg',
  '1507868812000_images_20171013042440_IMG_0016.jpg',
  '1507868815000_images_20171013042440_IMG_0017.jpg',
  '1507868818000_images_20171013042440_IMG_0018.jpg',
  '1507868821000_images_20171013042440_IMG_0019.jpg',
  '1507868825000_images_20171013042440_IMG_0020.jpg',
  '1507868828000_images_20171013042440_IMG_0021.jpg',
  '1507868831000_images_20171013042440_IMG_0022.jpg',
  '1507868834000_images_20171013042440_IMG_0023.jpg',
  '1507868837000_images_20171013042440_IMG_0024.jpg',
  '1507868840000_images_20171013042440_IMG_0025.jpg',
  '1507868843000_images_20171013042440_IMG_0026.jpg',
  '1507868847000_images_20171013042440_IMG_0027.jpg',
  '1507868850000_images_20171013042440_IMG_0028.jpg',
  '1507868853000_images_20171013042440_IMG_0029.jpg',
  '1507868856000_images_20171013042440_IMG_0030.jpg',
  '1507868859000_images_20171013042440_IMG_0031.jpg',
  '1507868862000_images_20171013042440_IMG_0032.jpg',
  '1507868865000_images_20171013042440_IMG_0033.jpg',
  '1507868865000_images_20171013042440_IMG_0034.jpg',
  '1507868872000_images_20171013042440_IMG_0035.jpg',
  '1507868875000_images_20171013042440_IMG_0036.jpg',
  '1507868878000_images_20171013042440_IMG_0037.jpg',
  '1507868881000_images_20171013042440_IMG_0038.jpg',
  '1507868884000_images_20171013042440_IMG_0039.jpg',
  '1507868888000_images_20171013042440_IMG_0040.jpg',
  '1507868891000_images_20171013042440_IMG_0041.jpg',
  '1507868894000_images_20171013042440_IMG_0042.jpg',
  '1507868897000_images_20171013042440_IMG_0043.jpg',
  '1507868900000_images_20171013042440_IMG_0044.jpg',
  '1507868903000_images_20171013042440_IMG_0045.jpg',
  '1507868906000_images_20171013042440_IMG_0046.jpg',
  '1507868910000_images_20171013042440_IMG_0047.jpg',
  '1507868913000_images_20171013042440_IMG_0048.jpg',
  '1507868916000_images_20171013042440_IMG_0049.jpg',
  '1507868919000_images_20171013042440_IMG_0050.jpg',
  '1507868922000_images_20171013042440_IMG_0051.jpg',
  '1507868925000_images_20171013042440_IMG_0052.jpg',
  '1507868928000_images_20171013042440_IMG_0053.jpg',
  '1507868931000_images_20171013042440_IMG_0054.jpg',
  '1507868935000_images_20171013042440_IMG_0055.jpg',
  '1507868938000_images_20171013042440_IMG_0056.jpg',
  '1507868941000_images_20171013042440_IMG_0057.jpg',
  '1507868944000_images_20171013042440_IMG_0058.jpg',
  '1507868947000_images_20171013042440_IMG_0059.jpg',
  '1507868950000_images_20171013042440_IMG_0060.jpg',
  '1507868953000_images_20171013042440_IMG_0061.jpg',
  '1507868956000_images_20171013042440_IMG_0062.jpg',
  '1507868960000_images_20171013042440_IMG_0063.jpg',
  '1507868963000_images_20171013042440_IMG_0064.jpg',
  '1507868966000_images_20171013042440_IMG_0065.jpg',
  '1507868969000_images_20171013042440_IMG_0066.jpg',
  '1507868972000_images_20171013042440_IMG_0067.jpg',
  '1507868975000_images_20171013042440_IMG_0068.jpg',
  '1507868979000_images_20171013042440_IMG_0069.jpg',
  '1507868982000_images_20171013042440_IMG_0070.jpg',
  '1507868985000_images_20171013042440_IMG_0071.jpg',
  '1507868988000_images_20171013042440_IMG_0072.jpg',
  '1507868991000_images_20171013042440_IMG_0073.jpg',
  '1507868994000_images_20171013042440_IMG_0074.jpg',
  '1507868997000_images_20171013042440_IMG_0075.jpg',
  '1507869000000_images_20171013042440_IMG_0076.jpg',
  '1507869003000_images_20171013042440_IMG_0077.jpg',
  '1507869007000_images_20171013042440_IMG_0078.jpg',
  '1507869010000_images_20171013042440_IMG_0079.jpg',
  '1507869013000_images_20171013042440_IMG_0080.jpg',
  '1507869016000_images_20171013042440_IMG_0081.jpg',
  '1507869019000_images_20171013042440_IMG_0082.jpg',
  '1507869022000_images_20171013042440_IMG_0083.jpg',
  '1507869026000_images_20171013042440_IMG_0084.jpg',
  '1507869029000_images_20171013042440_IMG_0085.jpg',
  '1507869032000_images_20171013042440_IMG_0086.jpg',
  '1507869035000_images_20171013042440_IMG_0087.jpg',
  '1507869038000_images_20171013042440_IMG_0088.jpg',
  '1507869041000_images_20171013042440_IMG_0089.jpg',
  '1507869044000_images_20171013042440_IMG_0090.jpg',
  '1507869047000_images_20171013042440_IMG_0091.jpg',
  '1507869051000_images_20171013042440_IMG_0092.jpg',
  '1507869054000_images_20171013042440_IMG_0093.jpg',
  'txt.txt'];

describe('Image processing functions.', () => {
  it('Should read files from images directory.', async () => {
    const filesDir = await readFilesFromDir();
    // Little hack, I don't want to commit the images
    const filesTest = filesDir.length ? filesDir : files;
    assert.equal(filesTest.length, 93);
  });
  it('Should sanitize the list of files.', () => {
    const images = sanitizeFileList(files);
    assert.equal(images.length, 92);
  });
});
